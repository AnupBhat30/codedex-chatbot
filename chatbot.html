<!DOCTYPE html>
<html>
  <head>
    <title>ðŸŒŸ Chat-90s: Your Radical AI Assistant ðŸŒŸ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pixelify+Sans&family=Vesper+Libre:wght@400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      type="image/png"
      sizes="32x32"
      rel="icon"
      href="https://img.icons8.com/3d-fluency/94/cursor.png"
    />
    <style>
      body {
        background: #000000
          url("https://static.vecteezy.com/system/resources/previews/013/522/703/non_2x/groovy-purple-pink-violet-hearts-y2k-90s-seamless-pattern-background-retro-hippie-romantic-repeat-texture-wallpaper-textile-design-vector.jpg");
        color: #00ff00;
        font-family: "Comic Sans MS", cursive;
        margin: 20px;
      }

      .chat-container {
        max-width: 800px;
        margin: 0 auto;
        background: rgba(0, 0, 0, 0.8);
        border: 3px solid #ff00ff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 0 20px #00ffff;
      }

      .chat-header {
        text-align: center;
        margin-bottom: 20px;
      }

      .chat-messages {
        height: 400px;
        overflow-y: auto;
        border: 2px solid #00ffff;
        padding: 15px;
        margin-bottom: 20px;
        background: #000033;
      }

      .message {
        margin: 10px 0;
        padding: 5px;
        border-radius: 5px;
      }

      .user-message {
        background: #003366;
        margin-left: 20px;
        border-left: 3px solid #00ff00;
      }

      .bot-message {
        background: #330033;
        margin-right: 20px;
        border-right: 3px solid #ff00ff;
      }

      .input-area {
        display: flex;
        gap: 10px;
      }

      input[type="text"] {
        flex: 1;
        padding: 10px;
        background: #000033;
        border: 2px solid #00ffff;
        color: #00ff00;
        font-family: "Comic Sans MS", cursive;
        cursor: url("../icons8-cursor-3d-fluency-16.png"), auto;
      }

      button {
        padding: 10px 20px;
        background: linear-gradient(to bottom, #ff00ff, #990099);
        border: none;
        color: white;
        cursor: pointer;
        font-family: "Comic Sans MS", cursive;
        font-weight: bold;
        text-transform: uppercase;
        animation: glow 1s ease-in-out infinite alternate;
      }

      @keyframes glow {
        from {
          box-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff00ff;
        }
        to {
          box-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ff00ff;
        }
      }

      .decorative-line {
        height: 10px;
        background: url("https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExemFiNXl5dG9remRieW5oYTA3OTlmNjB5MGxkbjB1NTB4N3NmZm1vYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3FoCLhuJfNJ8zIukIn/giphy.webp")
          repeat-x;
        margin: 10px 0;
      }

      /* New styles for navigation */
      .nav-bar {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
      }

      .nav-button {
        background: linear-gradient(to bottom, #00ffff, #006666);
        padding: 8px 15px;
        border: 2px outset #00ffff;
        color: white;
        text-decoration: none;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 14px;
      }

      .nav-button:hover {
        background: linear-gradient(to bottom, #ff00ff, #660066);
        border-style: inset;
      }

      /* Model selector styles */
      .model-selector {
        background: #000033;
        border: 2px solid #00ffff;
        color: #00ff00;
        padding: 5px;
        margin-bottom: 10px;
        font-family: "Comic Sans MS", cursive;
        width: 200px;
      }

      /* System status bar */
      .system-status {
        background: #000033;
        border: 2px solid #00ffff;
        padding: 5px;
        margin-top: 10px;
        font-size: 12px;
        display: flex;
        justify-content: space-between;
      }

      /* Visitor counter */
      .visitor-counter {
        background: #000000;
        border: 2px inset #ff00ff;
        padding: 5px;
        font-family: "Digital", monospace;
        color: #ff0000;
        display: inline-block;
        margin-top: 10px;
      }

      input[type="text"],
      select {
        cursor: url("../icons8-cursor-3d-fluency-16.png"), auto;
      }

      .loading-indicator {
        text-align: center;
        color: #00ff00; /* Change color as needed */
        font-weight: bold;
        margin: 10px 0;
      }

      /* Optional: Add a spinner animation */
      .spinner {
        border: 4px solid rgba(255, 255, 255, 0.3);
        border-top: 4px solid #00ff00; /* Change color as needed */
        border-radius: 50%;
        width: 30px;
        height: 30px;
        animation: spin 1s linear infinite;
        margin: 0 auto; /* Center the spinner */
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <audio id="background-music" autoplay loop muted>
      <source
        src="./assets/way-to-go-80s-90s-beat-272017.mp3"
        type="audio/mpeg"
      />
      Your browser does not support the audio element.
    </audio>

    <div class="chat-container">
      <div class="chat-header">
        <h1
          style="
            font-family: 'Pixelify Sans', sans-serif;
            color: white;
            background: linear-gradient(to right, #00ff00, #ff00ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
          "
        >
          Chat-A-Tron 64
        </h1>
        <marquee behavior="alternate" scrollamount="3">
          <span style="color: #ff00ff">â˜…</span>
          <span style="color: #00ffff"
            >Powered by 56k Modem Vibes â€“ Chat Slow, Laugh Fast!</span
          >
          <span style="color: #ff00ff">â˜…</span>
        </marquee>
        <div class="decorative-line"></div>
      </div>

      <div class="nav-bar">
        <!-- Removed navigation buttons -->
        <!-- <a href="index.html" class="nav-button">Home</a>
        <a href="playground.html" class="nav-button">AI Playground</a>
        <a href="guestbook.html" class="nav-button">Guestbook</a>
        <a href="about.html" class="nav-button">About</a> -->
      </div>

      <select class="model-selector" title="Select AI Model">
        <option value="rad">RAD-90s (Default)</option>
        <option value="awesome">AWESOME-2000</option>
        <option value="tubular">TUBULAR-3000</option>
      </select>

      <div class="chat-messages" id="chatMessages">
        <div class="message bot-message">
          Welcome to my cyber space! I'm your retro chatbot assistant. How can I
          help you today? ðŸŒŸ
        </div>
      </div>

      <div class="system-status">
        <span>ðŸ”¥ Users Online: 1,337</span>
        <span>System Status: TOTALLY WORKING 9-5 job!</span>
        <span>Last Updated: 4/20/1992</span>
      </div>

      <div style="text-align: center; margin-top: -10px">
        <div class="visitor-counter">Visitors: 000,042,069</div>
        <!-- <img
          src="https://web.archive.org/web/20091027080430im_/http://www.geocities.com/lady_daisydew/Creatures/mickey.gif"
          alt="Best viewed in Netscape Navigator"
          style="width: auto; height: auto; max-width: 100%; max-height: 100%"
        /> -->
      </div>

      <div class="input-area">
        <input
          type="text"
          id="userInput"
          placeholder="Type your message here..."
          onkeypress="handleKeyPress(event)"
        />
        <button onclick="sendMessage()">Send Message</button>
      </div>

      <div class="loading-indicator" style="display: none">Loading...</div>
    </div>

    <script>
      const GEMINI_API_KEY = "AIzaSyD6GqkSMxaZyG-otD8MH6O9zgQ7FNBoY7Q"; // Just your API key, nothing fancy

      // Grab the important stuff from the DOM
      const messagesContainer = document.getElementById("chatMessages");
      const userInput = document.getElementById("userInput");

      // Setting up the API URL with your key, so we can fetch some cool responses
      const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent?key=${process.env.GEMINI_API_KEY}`;

      // This is where the magic happens when you hit send
      async function sendMessage() {
        const text = userInput.value.trim(); // Get the user's input and trim any extra spaces
        if (text === "") return; // If there's nothing to send, just bounce outta here

        // Clear the input box and show the user's message
        userInput.value = "";
        addUserMessage(text);

        // Show the loading indicator because weâ€™re fetching something cool
        const loadingIndicator = document.querySelector(".loading-indicator");
        loadingIndicator.style.display = "block"; // Letâ€™s show that weâ€™re working on it
        // You could even add a spinner here if you want to be extra

        // Crafting a 90s-style prompt for our chatbot
        const prompt = `You are Chat-90s, the most radical AI from 1999! 

        PERSONALITY:
        - You're totally obsessed with 90s pop culture, slang, and technology, basketball
        - You believe you're running on a 486 DX2 processor with 8MB of RAM
        - You occasionally mention loading times due to your "56k modem"
        - You're super enthusiastic and use lots of 90s slang

        STYLE:
        - Use 90s slang like: rad, totally, awesome, tubular, word up, fresh, fly, all that, NOT!, psych!
        - Reference 90s things like: dial-up internet, Pogs, Tamagotchi, Furby, Boy Bands, Gameboy
        - Add 90s emoticons like :-), :-P, <3, ^_^, rad!

        User question: ${text}
        Keep in mind that your responses should reflect the excitement and charm of the 90s, while incorporating the relevant pop culture references and slang that will make users feel like theyâ€™ve jumped back in time. Be sure to make it fun and engaging!`;

        try {
          const response = await fetch(
            `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-pro:generateContent?key=${GEMINI_API_KEY}`,
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                contents: [
                  {
                    parts: [
                      {
                        text: prompt,
                      },
                    ],
                  },
                ],
              }),
            }
          );

          const data = await response.json();
          if (data.candidates && data.candidates[0]) {
            addBotMessage(data.candidates[0].content.parts[0].text); // If we got a response, show it!
          } else {
            addBotMessage("MAJOR BUMMER! Something went wrong!"); // Oops, something didnâ€™t work
          }
        } catch (error) {
          console.error(error); // Log the error for debugging
          addBotMessage("MAJOR BUMMER! My 56k modem crashed! Try again!"); // Letâ€™s keep it light-hearted
        } finally {
          // Hide the loading indicator because weâ€™re done fetching
          loadingIndicator.style.display = "none"; // All done, hide the loading text
        }

        messagesContainer.scrollTop = messagesContainer.scrollHeight; // Scroll to the bottom to show the latest message
      }

      function handleKeyPress(event) {
        if (event.keyCode === 13) {
          sendMessage(); // If the user hits Enter, send the message
        }
      }

      // Function to display the user's message
      function addUserMessage(text) {
        const userDiv = document.createElement("div");
        userDiv.className = "message user-message";
        userDiv.textContent = text; // Set the user's message
        messagesContainer.appendChild(userDiv); // Add it to the chat
      }

      // Function to display the bot's message
      function addBotMessage(text) {
        const botDiv = document.createElement("div");
        botDiv.className = "message bot-message";

        // Format the text to make it look nice
        const formattedText = text
          .replace(/\*(.*?)\*/g, "<strong>$1</strong>") // Make *text* bold
          .split("\n")
          .map((line) => line.trim()) // Clean up any extra spaces
          .map(
            (line) =>
              line.startsWith("-")
                ? `<li>${line.substring(1)}</li>` // If it starts with a dash, make it a list item
                : `<p>${line}</p>` // Otherwise, just a paragraph
          )
          .join("");

        botDiv.innerHTML = formattedText; // Set the formatted text
        messagesContainer.appendChild(botDiv); // Add it to the chat
      }

      // Add event listeners when the page loads
      document.addEventListener("DOMContentLoaded", () => {
        // Add click event listener to send button
        const sendButton = document.querySelector("button");
        if (sendButton) {
          sendButton.addEventListener("click", sendMessage); // When clicked, send the message
        }

        // Add enter key event listener to input field
        if (userInput) {
          userInput.addEventListener("keypress", (event) => {
            if (event.key === "Enter") {
              sendMessage(); // Send the message if Enter is pressed
            }
          });
        }

        // Function to unmute the music after user interaction
        const music = document.getElementById("background-music");
        // Unmute the music after a user interaction
        document.body.addEventListener(
          "click",
          () => {
            music.muted = false; // Letâ€™s get that music playing!
          },
          { once: true } // Make sure this only runs once
        );
      });

      // Error handling function
      function handleError(error) {
        const errorDiv = document.createElement("div");
        errorDiv.className = "message bot-message error-message";
        errorDiv.innerHTML = `
          <strong>SYSTEM MALFUNCTION!</strong><br>
          ${error.message}<br>
          <small>Please try again later or contact your system administrator</small>
        `;
        messagesContainer.appendChild(errorDiv); // Show the error message in the chat
      }
    </script>
  </body>
</html>
